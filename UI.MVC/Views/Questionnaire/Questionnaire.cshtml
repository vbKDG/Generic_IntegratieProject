@using Domain
@model FillInQuestionnaireModel

<body>

@using (Html.BeginForm("CreateUserQuestion", "Questionnaire",
    FormMethod.Post))
{
    
    
   
    <div class="row center-block">
        
    <div class="dark-overlay">
    <div class="container">

    <div class="col-lg-4">
    <div class="card bg-light text-center card-form">
    <h1>@Model.questionnaire.Name</h1>
    <h4>Questionnaire</h4>
    <div class="card-body">
    <table class="table">
        @foreach (var item in Model.questions)
        {
            if (!User.Identity.IsAuthenticated)
            {
                if (item.QuestionType == QuestionType.MAILADDRESS)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.TheQuestion) <br>
                            <input name="email" type="text">
                        </td>
                    </tr>
                }
            }
            if (item.QuestionType == QuestionType.DROPDOWN)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.TheQuestion) <br>
                        <select id="ddlOptions" name="Answer-@item.QuestionId-dropdown">
                            <option value="0">Please select</option>
                            @foreach (var option in item.Options)
                            {
                                <option value="@option.TheOption">@option.TheOption</option>
                            }
                        </select>
                    </td>
                </tr>
            }
            if (item.QuestionType == QuestionType.OPEN_QUESTION)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.TheQuestion) <br>
                        <textarea name="Answer-@item.QuestionId-openquestion" type="text"></textarea>
                    </td>
                </tr>
            }
            if (item.QuestionType == QuestionType.RADIO_BUTTON)
            {
                <tr>
                    <td>
                        <fieldset id="@item.QuestionId">
                            @Html.DisplayFor(modelItem => item.TheQuestion) <br>
                            @foreach (var option in item.Options)
                            {
                                <input type="radio" value="@option.TheOption" name="Answer-@item.QuestionId-radiobutton"/>
                                @Html.DisplayFor(modelItem => option.TheOption)<br>
                            }
                        </fieldset>
                    </td>
                </tr>
            }
            if (item.QuestionType == QuestionType.CHECK_BOX)
            {
                <tr>
                    <td>
                        <fieldset id="@item.QuestionId">
                            @Html.DisplayFor(modelItem => item.TheQuestion) <br>
                            @foreach (var option in item.Options)
                            {
                                <input type="checkbox" value="@option.TheOption" name="Answer-@item.QuestionId-checkbox"/>
                                @Html.DisplayFor(modelItem => option.TheOption)<br>
                            }
                        </fieldset>
                    </td>
                </tr>
            }
            

        }
    
    </table>
            
    <input type="hidden" name="questionnaireId" value="@Model.questionnaire.QuestionnaireId"/>
    <div class="form-group">
        <input type="submit" value="Submit answers" class="btn btn-default btn-success"/>
    </div>
    
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                       </div>

            

    }

</body>