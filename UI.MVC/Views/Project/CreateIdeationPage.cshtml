@model UI.MVC.Models.Ideations.IdeationVM

<body>
<div class="container">

<form asp-controller="Idea" asp-action="CreateIdeation" method="post" enctype="multipart/form-data">
    <input asp-for="ProjectId" value="@Model.ProjectId" type="hidden"/>

    <h1 class="text-center">Project: @Model.ProjectName </h1>




    <div class="row">
        <div class="dark-overlay">
            <div class="container py-5">
                <div class="col-lg-4">
                    <div class="card bg-light card-form">
                        <div class="card-body">
                            <h3><b>Set up parameters</b></h3>
                            <h4>project elements</h4>
                            <hr/>


                            <div class="form-group text-dark">
                                <th>Only admins can submit ideas: </th>
                                <th> <input asp-for="AdminOnly" type="checkbox"/> </th>
                                <hr/>
                            </div>
                            <div class="form-group">
                                
                                <p>Pick minimum/maximum amount of elements:</p>
                            </div>

                            <div class="form-group text-dark">
                                <th><label>Amount of textfields:</label> </th>
                                <th>
                                    <input asp-for="TextField.Minimum" type="number" max="5" min="0" value="0" onchange="SetMinimum(this)"/>
                                </th>
                                <th>
                                    <input asp-for="TextField.Maximum" type="number" max="5" min="0" value="0"/>
                                </th>
                            </div>

                            <div class="form-group">
                                <th><label>Amount of Images: </label></th>
                                <th>
                                    <input asp-for="ImageField.Minimum" type="number" max="5" min="0" value="0" onchange="SetMinimum(this)"/>
                                </th>
                                <th>
                                    <input asp-for="ImageField.Maximum" type="number" max="5" min="0" value="0"/>
                                </th>
                            </div>

                            <div class="form-group">
                                <th><label>Amount of Videos: </label></th>
                                <th>
                                    <input asp-for="VideoField.Minimum" type="number" max="5" min="0" value="0" onchange="SetMinimum(this)"/>
                                </th>
                                <th>
                                    <input asp-for="VideoField.Maximum" type="number" max="5" min="0" value="0"/>
                                </th>
                            </div>
                            <div class="form-group">
                                <th><label>Amount of Locations: </label></th>
                                <th>
                                    <input asp-for="MapField.Minimum" type="number" max="5" min="0" value="0" onchange="SetMinimum(this)"/>
                                </th>
                                <th>
                                    <input asp-for="MapField.Maximum" type="number" max="5" min="0" value="0"/>
                                </th>
                            </div>
                            <div class="form-group">
                                <th><label>Amount of Questions: </label></th>
                                <th>
                                    <input asp-for="QuestionField.Minimum" type="number" max="5" min="0" value="0" onchange="SetMinimum(this)"/>
                                </th>
                                <th>
                                    <input asp-for="QuestionField.Maximum" type="number" max="5" min="0" value="0"/>
                                </th>
                            </div>
                            <div class="form-group">
                                <tr>
                                    <th>
                                        <p>Provide extra background link: </p>
                                    </th>
                                    <th> <input asp-for="link" type="url"/>
                                    </th>
                                </tr>
                            </div>
                           

                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="card bg-light text-center card-form">
                        <div class="card-body">
                            <h2>Add Central Question</h2>

                            <div id="QuestionList" class="text-center center-block">
                                <div class="QuestionRow py-5 center-block text-center">
                                    <input id="extraquestion" name="ideationQuestionVMs[0].question" type="text" class="QuestionRow"/>
                                </div>

                            </div>
                            <div class="py-3">
                                <input type="button" name="addRow" id="addRow" value="Add Question" class="btn bg-success btn-sm">
                            </div>




                            <input type="submit" value="save">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


</form>
</div>
</body>
<script>
    function SetMinimum(input) {
        var val = input.value.valueOf();
        var name = input.name.valueOf().split(".")[0] + "_Maximum";
        var maxInput = document.getElementById(name);
        maxInput.min = val;
        if (val > maxInput.value) {
            maxInput.value = val;

        }

    }
    
</script>

<script type="text/javascript">

    $("#addRow").click(function () {

        var rowCount = $('.QuestionRow').length;
        if (rowCount <= 3) {
            var inputString = "";

            inputString += '<td><input name="ideationQuestionVMs['+ rowCount +'].question type="text" class="questionType"/></td>';       
            inputString += '<a href="javascript:void(0);" class="remRow">Remove</a>';
            $("#QuestionList").append('<div class="QuestionRow">' + inputString + '</div>');
        }
       
       
    });

    $("#QuestionList").on('click', '.remRow', function () {

        (this).closest(".QuestionRow").remove();

        $('.questionType').each(function (index) {
            $(this).attr('name', 'ideationQuestionVMs['+ index +'].question');
        });

       
    });



</script>